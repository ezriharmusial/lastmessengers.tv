---
import ArtistInfo from "../components/artists/ArtistInfo.astro";
import BaseLayout from "./BaseLayout.astro";

const { frontmatter } = Astro.props;

const siteUrl = import.meta.env.SITE.substring(0, import.meta.env.SITE.length -1)

// TypeScript interface of openGraph prop
interface openGraph {
	basic: {
		title: string;
		type: string;
		image: string;
		url: string;
	},
	optional?: {
		audio?: string;
		description?: string;
		determiner?: string;
		locale?: string;
		localeAlternate?: Array<string>;
		siteName?: string;
		video?: string;
	},
	image?: {
		alt?: string;
	}
}

const openGraph:openGraph = {
	basic: {
		title: frontmatter.title + "'s Artist Profile",
		type: "music",
		image: siteUrl + (frontmatter.featuredImage || frontmatter.image),
		url: "https://localhost:3000/"
	},
	optional: {
		description: frontmatter.description,
		locale: 'en-us',
		siteName: "LastMessengerS Music"
	},
	image: {
		alt: frontmatter.featuredImageAlt
	}
}
---

<BaseLayout {openGraph}>
	<article class="flex align-items-stretch landscape:h-full landscape:w-full portrait:flex-col {$player.track?.alignImage == 'right' ? 'landscape:text-left' : 'landscape:flex-row-reverse landscape:text-right' } pt-28">
		<ArtistInfo {...frontmatter} />
		<slot />
	</article>
</BaseLayout>