---
import { getEntryBySlug } from 'astro:content';
import { Image } from "@astrojs/image/components";

import BaseLayout from "@layouts/BaseLayout.astro";
import Tracks from "@components/Tracks.astro";

const album = await getEntryBySlug('albums', 'unity-album-2022');
const { title, image, imageAlt, description } = album.data

const openGraph = {
  basic: {
	title: title,
    type: "music",
    image: image,
    url: "https://localhost:3000/"
  },
  optional: {
	description: description,
    locale: 'en-us',
    siteName: "LastMessengerS Music"
  },
  image: {
	alt: imageAlt
  }
}

---
<BaseLayout {openGraph} >
<section class="mb-10 background-radial-gradient pt-20">
	<div class="px-6 py-12 md:px-12 text-center lg:text-left">
		<div class="grid lg:grid-cols-2 gap-12 flex items-center">
			<div class="mt-12 lg:mt-0">
				<h1 class="text-5xl md:text-6xl xl:text-7xl font-bold tracking-tight mb-12" style="color: hsl(218, 81%, 95%);">Africa4Africa <br /><span style="color: hsl(218, 81%, 75%);">{ title }</span></h1>
				<a class="inline-block px-7 py-3 mr-2 bg-gray-200 text-gray-700 font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-gray-300 hover:shadow-lg focus:bg-gray-300 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-gray-400 active:shadow-lg transition duration-150 ease-in-out" href="/unity-album-2022/rise-n-shine" role="button">Play Album</a>
				<a class="inline-block px-7 py-3 bg-transparent text-white font-medium text-sm leading-snug uppercase rounded focus:outline-none focus:ring-0 transition duration-150 ease-in-out" href="#more" role="button">Learn more</a>
			</div>
			<div class="mb-12 lg:mb-0">
				<div class="w-full rounded-lg shadow-lg">
					<Image width={640} aspectRatio={1/1} loading="eager" src={image} alt={"Album cover for " + title} />
				</div>
			</div>
		</div>
	</div>
</section>

<main id="more" class="flex portrait:flex-col items-center">
	<Tracks />
	<div class="md-content p-5 md:px-10 text-2xl grid lg:grid-cols-2 gap-12 ">
		{album.body}
	</div>
</main>
</BaseLayout>

<style>
	.background-radial-gradient {
		background-color: hsl(218, 41%, 15%);
		background-image: radial-gradient(
		650px circle at 0% 0%,
		hsl(218, 41%, 35%) 15%,
		hsl(218, 41%, 30%) 35%,
		hsl(218, 41%, 20%) 75%,
		hsl(218, 41%, 19%) 80%,
		transparent 100%
		),
		radial-gradient(
		1250px circle at 100% 100%,
		hsl(218, 41%, 45%) 15%,
		hsl(218, 41%, 30%) 35%,
		hsl(218, 41%, 20%) 75%,
		hsl(218, 41%, 19%) 80%,
		transparent 100%
		);
	}
</style>